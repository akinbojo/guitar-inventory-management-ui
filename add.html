<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Add Guitar</title>
</head>
<body>
    <header>
        <h1>Add a New Guitar</h1>
        <nav>
            <a href="index.html">Home</a> |
            <a href="add.html">Add Guitar</a> |
            <a href="search.html">Search Inventory</a>
        </nav>
    </header>
    <main>
        <div>
            <label>Serial Number:</label>
            <input id="serialNumber" type="text" /><br />

            <label>Price:</label>
            <input id="price" type="number" step="0.01" /><br />

            <label>Builder:</label>
            <select id="builder" required>
                <option value="FENDER">Fender</option>
                <option value="MARTIN">Martin</option>
                <option value="GIBSON">Gibson</option>
                <option value="COLLINGS">Collings</option>
                <option value="OLSON">Olson</option>
                <option value="RYAN">Ryan</option>
                <option value="PRS">PRS</option>
                <option value="UNSPECIFIED">UNSPECIFIED</option>
            </select><br />

            <label>Type:</label>
            <select id="type" required>
                <option value="ACOUSTIC">Acoustic</option>
                <option value="ELECTRIC">Electric</option>
            </select><br />

            <label>Model:</label>
            <input id="model" type="text" /><br />

            <label>Back Wood:</label>
            <select id="backWood" required>
                <option value="INDIAN_ROSEWOOD">Indian Rosewood</option>
                <option value="BRAZILIAN_ROSEWOOD">Brazilian Rosewood</option>
                <option value="MAHOGANY">Mahogany</option>
                <option value="MAPLE">Maple</option>
                <option value="COCOBOLO">Cocobolo</option>
                <option value="CEDAR">Cedar</option>
                <option value="ADIRONDACK">Adirondack</option>
                <option value="ALDER">Alder</option>
                <option value="SITKA">Sitka</option>
            </select><br />

            <label>Top Wood:</label>
            <select id="topWood" required>
                <option value="INDIAN_ROSEWOOD">Indian Rosewood</option>
                <option value="BRAZILIAN_ROSEWOOD">Brazilian Rosewood</option>
                <option value="MAHOGANY">Mahogany</option>
                <option value="MAPLE">Maple</option>
                <option value="COCOBOLO">Cocobolo</option>
                <option value="CEDAR">Cedar</option>
                <option value="ADIRONDACK">Adirondack</option>
                <option value="ALDER">Alder</option>
                <option value="SITKA">Sitka</option>
            </select><br />

            <button onclick="addGuitar()">Add Guitar</button>
        </div>
    </main>
    <footer>
        <p>Â© 2024 Guitar Inventory Management</p>
    </footer>

    <script>
      let host = "https://guitar-inventory-management-latest-ttmy.onrender.com";
      async function addGuitar() {
        let message = "";
        let serialNumber = document.getElementById("serialNumber").value;
        let price = document.getElementById("price").value;
        let builder = document.getElementById("builder").value;
        let type = document.getElementById("type").value;
        let model = document.getElementById("model").value;
        let backWood = document.getElementById("backWood").value;
        let topWood = document.getElementById("topWood").value;

        if (!serialNumber || !price || !builder || !type || !model || !backWood || !topWood) {
            alert("Please enter a value for all fields.");
            return;
        }

        let guitar = { serialNumber, price, builder, type, model, backWood, topWood };

        let request = {
          method: "POST",
          headers:{
            "Content-Type": "application/json"
          },
          body: JSON.stringify(guitar)
        };

        let response = await fetch(host + "/guitars/add", request);
        if (response.ok){
          message = "The guitar was added to the system.";
        }
        else{
          message = "Something went wrong. Please try again or contact the customer support team.";
        }
        alert(message);
      }
    </script>
</body>
</html>
